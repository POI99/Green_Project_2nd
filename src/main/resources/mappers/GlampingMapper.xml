<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.glampick.mapper.GlampingMapper">
    <!-- 글램핑 관심 등록-->
    <insert id="insertFavorite">
        INSERT INTO glamp_favorite (user_id, glamp_id)
        VALUES (#{userId},#{glampId})
    </insert>
    <!-- 글램핑 관심 취소-->
    <delete id="deleteFavorite">
        DELETE FROM glamp_favorite WHERE user_id = #{userId} AND glamp_id = #{glampId}
    </delete>

    <!-- 글램핑 상세 페이지 글램핑 정보 -->
    <select id="selGlampingInfo">
        SELECT		glamp_id AS glampId,
                    glamp_name AS glampName,
                    star_point_avg AS starPointAvg,
                    glamp_location AS glampLocation,
                    glamp_intro AS glampIntro,
                    info_basic AS infoBasic,
                    info_parking AS infoParking,
                    info_notice AS infoNotice
        FROM 		glamping
        WHERE 		glamp_id = #{glampId}
    </select>
    <!-- 글램핑 상세 페이지 리뷰 데이터 -->
    <select id="selRoomInfo">
        SELECT		    B.user_name AS userName,
                        A.review_content AS content
        FROM			review A
        INNER JOIN      user B
        ON 			    A.user_id = B.user_id
        WHERE 		    glamp_id = #{glampId};
    </select>
    <!-- 리뷰 유저수 -->
    <select id="selCount">
        SELECT COUNT(review_id) AS countReviewUsers
        FROM review
        WHERE glamp_id = 1;
    </select>


</mapper>